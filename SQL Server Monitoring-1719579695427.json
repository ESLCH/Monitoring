{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "panel",
      "id": "alertlist",
      "name": "Alert list",
      "version": ""
    },
    {
      "type": "panel",
      "id": "gauge",
      "name": "Gauge",
      "version": ""
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "11.0.0"
    },
    {
      "type": "panel",
      "id": "piechart",
      "name": "Pie chart",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    },
    {
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": ""
    },
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "description": "SQl Server Status Details",
  "editable": false,
  "fiscalYearStartMonth": 0,
  "gnetId": 11517,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "mode": "gradient",
              "type": "color-background"
            },
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "measurement_db_type"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              },
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "__name__"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Port"
            },
            "properties": [
              {
                "id": "unit",
                "value": "none"
              },
              {
                "id": "custom.width",
                "value": 79
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "instance"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Value"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "job"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "service_name"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "PortType"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 88
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "hardware_type"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "host"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 165
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sql_instance"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 255
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sql_version"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 108
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sku"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 341
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "host"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sql_instance"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "PortType"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sql_version"
            },
            "properties": [
              {
                "id": "custom.hidden",
                "value": true
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 15,
        "x": 0,
        "y": 0
      },
      "id": 127,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": []
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "sqlserver_server_properties_instance_type{sql_instance=\"$instance\"}",
          "format": "table",
          "instant": true,
          "legendFormat": "{{ sql_version }}",
          "refId": "A"
        }
      ],
      "title": "SQL Version",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "includeTimeField": false,
            "reducers": []
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "",
      "gridPos": {
        "h": 5,
        "w": 9,
        "x": 15,
        "y": 0
      },
      "id": 128,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "# COMMENT\n\nLink to details panel per database:[(https://grafana.group.local/d/ddnysatk3aozkd/sql-server-detail-per-database?${__all_variables})",
        "mode": "markdown"
      },
      "pluginVersion": "11.0.0",
      "title": "Details per database, click on link below",
      "type": "text"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "HEALTHY"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "1": {
                  "text": "NOT HEALTHY"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "rgba(32, 33, 58, 0.9)",
                "value": null
              },
              {
                "color": "rgb(255, 0, 0)",
                "value": 0
              },
              {
                "color": "rgba(50, 172, 45, 0.97)",
                "value": 0
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 0,
        "y": 5
      },
      "id": 69,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 30
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_server_properties_db_offline{sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 2,
          "legendFormat": "Helathy ",
          "measurement": "State OFFLINE",
          "policy": "default",
          "query": "SELECT mean(\"total\") FROM \"State OFFLINE\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "Databases Healthy",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 2,
        "y": 5
      },
      "id": 45,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Buffer cache hit ratio\",sql_instance=~\"$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Performance metrics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"Buffer pool rate (bytes/sec)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Buffer pool rate (bytes/sec)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "Buffer cache hit ratio",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "SQLCPU"
            },
            "properties": [
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 70
                    },
                    {
                      "color": "orange",
                      "value": 80
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "OTHER"
            },
            "properties": [
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "#EAB839",
                      "value": 70
                    },
                    {
                      "color": "orange",
                      "value": 80
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IDLE_CPU"
            },
            "properties": [
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 25
                    },
                    {
                      "color": "orange",
                      "value": 30
                    },
                    {
                      "color": "#EAB839",
                      "value": 50
                    },
                    {
                      "color": "super-light-green",
                      "value": 60
                    },
                    {
                      "color": "light-green",
                      "value": 70
                    },
                    {
                      "color": "green",
                      "value": 90
                    }
                  ]
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 6,
        "x": 4,
        "y": 5
      },
      "id": 135,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "avg_over_time(sqlserver_cpu_sqlserver_process_cpu{sql_instance=\"$instance\"}[5m])",
          "instant": false,
          "legendFormat": "SQLCPU",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "avg_over_time(sqlserver_cpu_other_process_cpu{sql_instance=\"$instance\"}[5m]) ",
          "hide": false,
          "instant": false,
          "legendFormat": "OTHER",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "avg_over_time(sqlserver_cpu_system_idle_cpu{sql_instance=\"$instance\"}[5m]) ",
          "hide": false,
          "instant": false,
          "legendFormat": "IDLE_CPU",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "CPU: $instance",
      "transparent": true,
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "light-blue",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 11,
        "y": 5
      },
      "id": 63,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_online{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State ONLINE",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State ONLINE\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "ONLINE",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "ERROR"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "light-blue",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 13,
        "y": 5
      },
      "id": 67,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_recoveryPending{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State RECOVERY_PENDING",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State RECOVERY_PENDING\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "PENDING",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "gridPos": {
        "h": 14,
        "w": 9,
        "x": 15,
        "y": 5
      },
      "id": 133,
      "options": {
        "alertInstanceLabelFilter": "",
        "alertName": "",
        "dashboardAlerts": false,
        "datasource": "-- Grafana --",
        "folder": {
          "title": "DBA",
          "uid": "cdnu6kjwh32f4f"
        },
        "groupBy": [],
        "groupMode": "default",
        "maxItems": 20,
        "sortOrder": 1,
        "stateFilter": {
          "error": true,
          "firing": true,
          "noData": true,
          "normal": true,
          "pending": true
        },
        "viewMode": "list"
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "expr": "",
          "instant": false,
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Alert list firing",
      "transparent": true,
      "type": "alertlist"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 0,
        "y": 8
      },
      "id": 124,
      "interval": "10s",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sum by (sql_instance) (irate(sqlserver_performance{sql_instance=~\"$instance\",counter=\"Transactions/sec\",exported_instance!=\"Total\"}[5m]))",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Performance metrics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"Connection memory per connection (bytes)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Connection memory per connection (bytes)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "Tran/sec",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 2,
        "y": 8
      },
      "id": 86,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_cpu_count{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "Recovery Model SIMPLE",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"Recovery Model SIMPLE\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "CPU Count",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "light-blue",
                "value": null
              },
              {
                "color": "semi-dark-orange",
                "value": 1
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 11,
        "y": 8
      },
      "id": 66,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_recovering{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State RECOVERING",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State RECOVERING\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "RECOVERING",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "light-blue",
                "value": null
              },
              {
                "color": "semi-dark-orange",
                "value": 1
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 13,
        "y": 8
      },
      "id": 68,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_restoring{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State RESTORING",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State RESTORING\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "RESTORING",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "text",
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "green",
                  "index": 0
                },
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "ERROR"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 0,
        "y": 11
      },
      "id": 123,
      "interval": "10s",
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 30
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "irate(sqlserver_performance{counter=\"Number of Deadlocks/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Performance metrics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"Connection memory per connection (bytes)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Connection memory per connection (bytes)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "Deadlock/sec",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "text": "PRESSURE"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "m"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 2,
        "y": 11
      },
      "id": 8,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Page life expectancy\",exported_instance!~\"000|001\",sql_instance=~\"^$instance\"} /60",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "legendFormat": "{{counter}}",
          "measurement": "Page life expectancy | Buffer Manager",
          "metric": "Page_life_expectancy___Buffer_Manager",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"Page life expectancy | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "PLE",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 4,
        "y": 11
      },
      "id": 121,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "mean"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"Buffer Pool\",sql_instance=~\"^$instance\"}",
          "refId": "A"
        }
      ],
      "title": "Memory Clerk Buffer Pool",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 6,
        "y": 11
      },
      "id": 80,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Version Store Size (KB)\",sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Percent Log Used | mssqlsystemresource | Databases",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"Percent Log Used | mssqlsystemresource | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "Version Store Size",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "decimals": 2,
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "noValue": "Total Memory",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 8,
        "y": 11
      },
      "id": 28,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Total Server Memory (KB)\",sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Target Server Memory (KB) | Memory Manager",
          "metric": "Target_Server_Memory__KB____Memory_Manager",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"Target Server Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "Total Memory",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "light-blue",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 11,
        "y": 11
      },
      "id": 65,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 20
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_suspect{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State SUSPECT",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State SUSPECT\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "SUSPECT",
      "type": "stat"
    },
    {
      "datasource": {
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "1": {
                  "color": "red",
                  "index": 1,
                  "text": "ERROR"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "match": "null",
                "result": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "light-blue",
                "value": null
              },
              {
                "color": "semi-dark-orange",
                "value": 1
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 13,
        "y": 11
      },
      "id": 64,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "expr": "sqlserver_server_properties_db_offline{sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "State OFFLINE",
          "policy": "default",
          "query": "SELECT \"total\" FROM \"State OFFLINE\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "total"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Database properties"
            }
          ]
        }
      ],
      "title": "OFFLINE",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 30
              },
              {
                "color": "orange",
                "value": 40
              },
              {
                "color": "#EAB839",
                "value": 50
              },
              {
                "color": "green",
                "value": 60
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 0,
        "y": 14
      },
      "id": 129,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sum(sqlserver_volume_space_available_space_bytes{sql_instance=\"$instance\"}) / sum(sqlserver_volume_space_total_space_bytes{sql_instance=\"$instance\"}) * 100",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "legendFormat": "__auto",
          "measurement": "Performance metrics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"Buffer pool rate (bytes/sec)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Buffer pool rate (bytes/sec)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "% Data Free",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "index": 0,
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "max": 100,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "orange",
                "value": 70
              },
              {
                "color": "red",
                "value": 85
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 2,
        "y": 14
      },
      "id": 136,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background_solid",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": true,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Percent Log Used\", sql_instance=\"$instance\", exported_instance=\"Total\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "legendFormat": "__auto",
          "measurement": "Performance metrics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"Buffer pool rate (bytes/sec)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Buffer pool rate (bytes/sec)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "Total % Log Used",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "1": {
                  "text": "NOK"
                }
              },
              "type": "value"
            },
            {
              "options": {
                "0": {
                  "text": "OK"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 4,
        "y": 14
      },
      "hideTimeOverride": false,
      "id": 74,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "alias": "",
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Data File(s) Size (KB)\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 2,
          "measurement": "Performance metrics",
          "policy": "default",
          "query": "SELECT \"Point In Time Recovery\" FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Point In Time Recovery"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance metrics"
            }
          ]
        }
      ],
      "title": "Total Data File Size",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "decmbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 6,
        "y": 14
      },
      "id": 38,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Used memory (KB)\",exported_instance=\"internal\",sql_instance=~\"^$instance\"} /100\r\n",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "Total Server Memory (KB) | Memory Manager",
          "metric": "Total_Server_Memory__KB____Memory_Manager",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"Total Server Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "Used Memory",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "semi-dark-green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "rgba(32, 33, 58, 0.9)",
                "value": null
              },
              {
                "color": "rgba(237, 129, 40, 0.89)",
                "value": 1
              },
              {
                "color": "rgba(245, 54, 54, 0.9)",
                "value": 5
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 8,
        "y": 14
      },
      "id": 30,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Memory Grants Pending\",sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 2,
          "measurement": "Memory Grants Pending | Memory Manager",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"Memory Grants Pending | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "B",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "Memory Grant Pending",
      "transparent": true,
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "super-light-yellow",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "rgba(32, 33, 58, 0.9)",
                "value": null
              },
              {
                "color": "rgba(245, 54, 54, 0.9)",
                "value": 2
              },
              {
                "color": "green",
                "value": 5
              }
            ]
          },
          "unit": "deckbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 11,
        "y": 14
      },
      "id": 78,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Free Space in tempdb (KB)\",sql_instance=~\"^$instance\"}",
          "groupBy": [],
          "intervalFactor": 1,
          "measurement": "Data File(s) Size (KB) | mssqlsystemresource | Databases",
          "metric": "",
          "policy": "default",
          "query": "SELECT \"value\" FROM \"Data File(s) Size (KB) | mssqlsystemresource | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "Free Space tempdb",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "super-light-yellow",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 13,
        "y": 14
      },
      "id": 29,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"Active Temp Tables\",sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 2,
          "measurement": "Performance metrics",
          "metric": "Performance_metrics_Page_File_Usage____",
          "policy": "default",
          "query": "SELECT mean(\"Page File Usage (%)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "Page File Usage (%)"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 60,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            }
          ]
        }
      ],
      "title": "Active Temp Tables",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "$datasource"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [
            {
              "options": {
                "match": "null",
                "result": {
                  "text": "N/A"
                }
              },
              "type": "special"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 2,
        "x": 0,
        "y": 17
      },
      "id": 4,
      "maxDataPoints": 100,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "text": {
          "valueSize": 25
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "11.0.0",
      "targets": [
        {
          "datasource": {
            "uid": "$datasource"
          },
          "dsType": "influxdb",
          "editorMode": "code",
          "expr": "sqlserver_performance{counter=\"User Connections\",sql_instance=~\"^$instance\"}",
          "groupBy": [
            {
              "params": [
                "$interval"
              ],
              "type": "time"
            },
            {
              "params": [
                "null"
              ],
              "type": "fill"
            }
          ],
          "intervalFactor": 1,
          "measurement": "User Connections | General Statistics",
          "metric": "",
          "policy": "default",
          "query": "SELECT mean(\"value\") FROM \"User Connections | General Statistics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
          "range": true,
          "refId": "A",
          "resultFormat": "time_series",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "field"
              },
              {
                "params": [],
                "type": "mean"
              }
            ]
          ],
          "step": 30,
          "tags": [
            {
              "key": "servername",
              "operator": "=~",
              "value": "/$Instance$/"
            },
            {
              "condition": "AND",
              "key": "type",
              "operator": "=",
              "value": "Performance counters"
            }
          ]
        }
      ],
      "title": "User Connections",
      "type": "stat"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 103,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "smooth",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "area"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 15,
            "x": 0,
            "y": 20
          },
          "id": 134,
          "links": [
            {
              "title": "SQL Server Monitoring Details",
              "url": "https://grafana.group.local/d/CE9gQeYZz/sql-server-monitoring?${__all_variables}"
            }
          ],
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "application": {
                "filter": ""
              },
              "countTriggersBy": "",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "evaltype": "0",
              "expr": "avg_over_time(sqlserver_cpu_sqlserver_process_cpu{job=\"telegraf\", measurement_db_type=\"SQLServer\", sql_instance=~\"$instance\"}[5m]) ",
              "format": "time_series",
              "functions": [],
              "group": {
                "filter": ""
              },
              "host": {
                "filter": ""
              },
              "item": {
                "filter": ""
              },
              "itemTag": {
                "filter": ""
              },
              "legendFormat": "SQL_CPU",
              "macro": {
                "filter": ""
              },
              "options": {
                "count": false,
                "disableDataAlignment": false,
                "showDisabledItems": false,
                "skipEmptyValues": false,
                "useTrends": "default",
                "useZabbixValueMapping": false
              },
              "proxy": {
                "filter": ""
              },
              "queryType": "0",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "schema": 12,
              "table": {
                "skipEmptyValues": false
              },
              "tags": {
                "filter": ""
              },
              "textFilter": "",
              "trigger": {
                "filter": ""
              }
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "avg_over_time(sqlserver_cpu_other_process_cpu{job=\"telegraf\", measurement_db_type=\"SQLServer\", sql_instance=~\"$instance\"}[5m]) ",
              "hide": false,
              "instant": false,
              "legendFormat": "OTHER CPU",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "avg_over_time(sqlserver_cpu_system_idle_cpu{sql_instance=\"$instance\"}[5m]) ",
              "hide": false,
              "instant": false,
              "legendFormat": "IDLE CPU",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "SQL Cpu-Other",
          "transparent": true,
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Quick Stats",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 99,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 3,
            "x": 0,
            "y": 35
          },
          "id": 85,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "alias": "",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Log File(s) Size (KB)\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 2,
              "measurement": "Recovery Model BULK_LOGGED",
              "policy": "default",
              "query": "SELECT \"total\" FROM \"Recovery Model BULK_LOGGED\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "total"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 60,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database properties"
                }
              ]
            }
          ],
          "title": "Total Log Files Size",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  }
                ]
              },
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 4,
            "x": 3,
            "y": 35
          },
          "id": 84,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "alias": "",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Log File(s) Used Size (KB)\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 2,
              "measurement": "Recovery Model FULL",
              "policy": "default",
              "query": "SELECT \"total\" FROM \"Recovery Model FULL\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database properties' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "total"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 60,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database properties"
                }
              ]
            }
          ],
          "title": "Total Log Files Used Size",
          "transparent": true,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "semi-dark-blue",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 3,
            "x": 7,
            "y": 35
          },
          "id": 32,
          "interval": "10s",
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background_solid",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Checkpoint pages/sec\",sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "measurement": "Performance metrics",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"Connection memory per connection (bytes)\") FROM \"Performance metrics\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance metrics' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Connection memory per connection (bytes)"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 30,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance metrics"
                }
              ]
            }
          ],
          "title": "Checkpoint pages/sec",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "semi-dark-blue",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "rgba(32, 33, 58, 0.9)"
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 2
                  },
                  {
                    "color": "rgba(245, 54, 54, 0.9)",
                    "value": 10
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 3,
            "x": 10,
            "y": 35
          },
          "id": 33,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Free list stalls/sec\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "measurement": "Free list stalls/sec | Buffer Manager",
              "metric": "Free_list_stalls_sec___Buffer_Manager",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"Free list stalls/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 30,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Free List Stalls/sec",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "semi-dark-blue",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 3,
            "x": 13,
            "y": 35
          },
          "id": 46,
          "interval": "10s",
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Page lookups/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "measurement": "Performance metrics",
              "metric": "Performance_metrics_Total_target_memory_ratio",
              "policy": "default",
              "query": "SELECT mean(\"Total target memory ratio\") FROM \"Performance metrics\" WHERE \"type\" = 'Performance metrics' AND \"servername\" =~ /$Instance$/ AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "Total target memory ratio"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 30,
              "tags": [
                {
                  "key": "type",
                  "operator": "=",
                  "value": "Performance metrics"
                },
                {
                  "condition": "AND",
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                }
              ]
            }
          ],
          "title": "Page lookups/sec",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "blue",
                "mode": "fixed"
              },
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 4,
            "x": 16,
            "y": 35
          },
          "id": 12,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.0.0",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Backup/Restore Throughput/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "measurement": "Backup/Restore Throughput/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Backup/Restore Throughput/sec | _Total | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 30,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Backup/Restore Throughput",
          "type": "stat"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Databases properties",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 107,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "decimals": 0,
              "mappings": [],
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 36
          },
          "id": 25,
          "maxDataPoints": 3,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Data File(s) Size (KB)\",sql_instance=~\"^$instance\"} ",
              "groupBy": [],
              "instant": false,
              "intervalFactor": 1,
              "legendFormat": "{{exported_instance}}",
              "measurement": "Rows size (bytes)",
              "metric": "",
              "policy": "default",
              "query": "SELECT * FROM \"Rows size (bytes)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database size' AND $timeFilter",
              "rawQuery": false,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database size"
                }
              ]
            }
          ],
          "title": "Database | Rows Size",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "decimals": 0,
              "mappings": [],
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 36
          },
          "id": 26,
          "maxDataPoints": 3,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Log File(s) Size (KB)\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{exported_instance}}",
              "measurement": "Log size (bytes)",
              "metric": "",
              "policy": "default",
              "query": "SELECT * FROM \"Log size (bytes)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database size' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database size"
                }
              ]
            }
          ],
          "title": "Database | Log Size",
          "type": "piechart"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Database size trend",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 23
      },
      "id": 104,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 1,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Batch Requests/sec\",sql_instance=~\"^$instance\"}[$__range]) ",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Batch Requests/sec",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Logins/sec\",sql_instance=~\"^$instance\"}[$__range]) ",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Logins/sec",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Logouts/sec\",sql_instance=~\"^$instance\"}[$__range]) ",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Logouts/sec",
              "policy": "default",
              "range": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"SQL Compilations/sec\",sql_instance=~\"^$instance\"}[$__range]) ",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "SQL Compilations/sec",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"SQL Re-Compilations/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "SQL Re-Compilations/sec",
              "policy": "default",
              "range": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Processes blocked\",sql_instance=~\"^$instance\"}[$__range]) ",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Processes blocked",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "G",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": []
            }
          ],
          "title": "SQL Server Stats",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 3,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "Transactions/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Transactions/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Transactions/sec",
              "measurement": "Transactions/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Transactions/sec | _Total | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Write Transactions/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Write Transactions/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Write Transactions/sec",
              "measurement": "Write Transactions/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Write Transactions/sec | _Total | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Flushes/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Log Flushes/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Log Flushes/sec",
              "measurement": "Log Flushes/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Log Flushes/sec | _Total | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Flush Wait Time",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Log Flush Wait Time\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Log Flush Wait Time",
              "measurement": "Log Flush Wait Time | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Log Flush Wait Time | _Total | Databases\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Lock Timeouts/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Lock Timeouts/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Lock Timeouts/sec",
              "measurement": "Lock Timeouts/sec | _Total | Locks",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Lock Timeouts/sec | _Total | Locks\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Number of Deadlocks/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Number of Deadlocks/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Number of Deadlocks/sec",
              "measurement": "Number of Deadlocks/sec | _Total | Locks",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Number of Deadlocks/sec | _Total | Locks\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Lock Waits/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "expr": "irate(sqlserver_performance_value{counter=\"Lock Waits/sec\",database_name=\"master\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Lock Waits/sec",
              "measurement": "Lock Waits/sec | _Total | Locks",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Lock Waits/sec | _Total | Locks\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "refId": "G",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Latch Waits/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Latch Waits/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Latch Waits/sec",
              "measurement": "Latch Waits/sec | Latches",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Latch Waits/sec | Latches\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "H",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Databases Activity",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 31
          },
          "id": 2,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "Full Scans/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Full Scans/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Full Scans/sec",
              "measurement": "Full Scans/sec | Access Methods",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Full Scans/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Index Searches/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Index Searches/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Index Searches/sec",
              "measurement": "Index Searches/sec | Access Methods",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Index Searches/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Page Splits/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Page Splits/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Page Splits/sec",
              "measurement": "Page Splits/sec | Access Methods",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Page Splits/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Page lookups/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Page lookups/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Page lookups/sec",
              "measurement": "Page lookups/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Page lookups/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Page reads/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Page reads/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Page reads/sec",
              "measurement": "Page reads/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Page reads/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Page writes/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Page writes/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Page writes/sec",
              "measurement": "Page writes/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Page writes/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Readahead pages/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Readahead pages/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Readahead pages/sec",
              "measurement": "Readahead pages/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Readahead pages/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "G",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Lazy writes/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Lazy writes/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Lazy writes/sec",
              "measurement": "Lazy writes/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Lazy writes/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "H",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Checkpoint pages/sec",
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Checkpoint pages/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Checkpoint pages/sec",
              "measurement": "Checkpoint pages/sec | Buffer Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Checkpoint pages/sec | Buffer Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "I",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Buffer Cache - Disk",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 75,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "SQL Cache",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"Transactions Cache (Object Store)\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "SQL Cache",
              "measurement": "SQL Cache Memory (KB) | Memory Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"SQL Cache Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Optimizer",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"SQL Optimizer\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "Optimizer",
              "measurement": "Optimizer Memory (KB) | Memory Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"Optimizer Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "range": true,
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Pool",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"Log Pool\",sql_instance=~\"^$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "Log Pool",
              "measurement": "Log Pool Memory (KB) | Memory Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"Log Pool Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "range": true,
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Lock",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"SQL Plans\", sql_instance=\"$instance\"}",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "plan",
              "measurement": "Lock Memory (KB) | Memory Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"Lock Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "range": true,
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Connection",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_memory_clerks_size_kb{clerk_type=\"Connection Pool\",sql_instance=~\"^$instance\"} ",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "Connection",
              "measurement": "Connection Memory (KB) | Memory Manager",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"value\" FROM \"Connection Memory (KB) | Memory Manager\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter",
              "range": true,
              "refId": "F",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Memory Manager",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 39
          },
          "id": 89,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "Log Flushes/sec",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Log Flushes/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "Log Flushes/sec",
              "measurement": "Log Flushes/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Full Scans/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 2,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Pool Cache Misses/sec",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "Log_Pool_Cache_Misses_sec____Total___Databases{sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": true,
              "intervalFactor": 1,
              "legendFormat": "Log Pool Cache Misses/sec",
              "measurement": "Log Pool Cache Misses/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Full Scans/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "refId": "B",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 2,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Pool Disk Reads/sec",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "Log_Pool_Disk_Reads_sec____Total___Databases{sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": true,
              "intervalFactor": 1,
              "legendFormat": "Log Pool Disk Reads/sec",
              "measurement": "Log Pool Disk Reads/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Full Scans/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "refId": "C",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 2,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            },
            {
              "alias": "Log Pool Requests/sec",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "Log_Pool_Requests_sec____Total___Databases{sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "hide": true,
              "intervalFactor": 1,
              "legendFormat": "Log Pool Requests/sec",
              "measurement": "Log Pool Requests/sec | _Total | Databases",
              "metric": "",
              "policy": "default",
              "query": "SELECT mean(\"value\") FROM \"Full Scans/sec | Access Methods\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Performance counters' AND $timeFilter GROUP BY time($interval) fill(null)",
              "refId": "D",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 2,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                }
              ]
            }
          ],
          "title": "Log activities",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Performance counters",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 24
      },
      "id": 106,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 20,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Used memory (KB)\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{exported_instance}}",
              "measurement": "Memory breakdown (%)",
              "metric": "",
              "policy": "default",
              "query": "SELECT * FROM \"Memory breakdown (%)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Memory clerk' AND $timeFilter",
              "range": true,
              "refId": "E",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Memory clerk"
                }
              ]
            }
          ],
          "title": "Used memory by Instance",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "deckbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 12,
            "x": 12,
            "y": 24
          },
          "id": 22,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "expr": "irate(sqlserver_memory_clerks_size_kb{clerk_type=~\"^SQL.*\",sql_instance=~\"^$instance\"}[$__range])",
              "intervalFactor": 1,
              "legendFormat": "{{clerk_type}}",
              "refId": "E",
              "step": 5
            }
          ],
          "title": "Memory Clerks Size",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Memory break down",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 25
      },
      "id": 108,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 41
          },
          "id": 116,
          "interval": "",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=~\"^Disk.*IO.*\",exported_instance=\"internal\",sql_instance=~\"^$instance\"}[$__range])",
              "legendFormat": "{{counter}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "IO/sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 48
          },
          "id": 16,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_database_io_read_bytes{file_type=\"ROWS\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Rows reads (bytes/sec)",
              "metric": "",
              "policy": "default",
              "query": "SELECT \"AdventureWorks2014\", \"Australian\", \"DOC.Azure\", \"ResumeCloud\", \"ngMon\", \"tempdb\" FROM \"Rows reads (bytes/sec)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database IO' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database IO"
                }
              ]
            }
          ],
          "title": "DATA | Read Throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 48
          },
          "id": 14,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "irate(sqlserver_database_io_read_bytes{file_type=\"LOG\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Log reads (bytes/sec)",
              "policy": "default",
              "query": "SELECT \"AdventureWorks2014\", \"Australian\", \"DOC.Azure\", \"ResumeCloud\", \"ngMon\", \"tempdb\" FROM \"Log reads (bytes/sec)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database IO' AND $timeFilter",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database IO"
                }
              ]
            }
          ],
          "title": "LOG | Read Throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 55
          },
          "id": 17,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_database_io_write_bytes{file_type=\"ROWS\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Rows writes (bytes/sec)",
              "policy": "default",
              "query": "SELECT \"AdventureWorks2014\", \"Australian\", \"DOC.Azure\", \"ResumeCloud\", \"ngMon\", \"tempdb\" FROM \"Rows writes (bytes/sec)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database IO' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database IO"
                }
              ]
            }
          ],
          "title": "DATA | Write Throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsNull",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 55
          },
          "id": 119,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "expr": "irate(sqlserver_database_io_write_bytes{file_type=\"LOG\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Log reads (bytes/sec)",
              "policy": "default",
              "query": "SELECT \"AdventureWorks2014\", \"Australian\", \"DOC.Azure\", \"ResumeCloud\", \"ngMon\", \"tempdb\" FROM \"Log reads (bytes/sec)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database IO' AND $timeFilter",
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database IO"
                }
              ]
            }
          ],
          "title": "LOG | Write Throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "WaitTime.TOTAL"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#BF1B00",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "unit",
                    "value": "none"
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "hidden"
                  },
                  {
                    "id": "custom.axisLabel",
                    "value": "Total"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 62
          },
          "id": 98,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "irate(sqlserver_waitstats_wait_time_ms{sql_instance='$instance',measurement_db_type=\"SQLServer\"}[$__range])/rate(sqlserver_waitstats_waiting_tasks_count{sql_instance='$instance',measurement_db_type=\"SQLServer\"}[$__range])",
              "intervalFactor": 1,
              "legendFormat": "{{wait_category}} {{wait_type}}",
              "range": true,
              "refId": "L",
              "step": 5
            }
          ],
          "title": "Wait Tasks",
          "type": "timeseries"
        },
        {
          "datasource": {
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "WaitTime.TOTAL"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#BF1B00",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 0
                  },
                  {
                    "id": "custom.drawStyle",
                    "value": "line"
                  },
                  {
                    "id": "custom.lineWidth",
                    "value": 2
                  },
                  {
                    "id": "unit",
                    "value": "none"
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "custom.axisPlacement",
                    "value": "hidden"
                  },
                  {
                    "id": "custom.axisLabel",
                    "value": "Total"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 62
          },
          "id": 130,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "expr": "irate(sqlserver_waitstats_waiting_tasks_count{sql_instance=~\"^$instance\"}[$__range])",
              "intervalFactor": 1,
              "legendFormat": "{{wait_category}} {{wait_type}}",
              "refId": "L",
              "step": 5
            }
          ],
          "title": "Wait Tasks",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Database I/O",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 26
      },
      "id": 110,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 42
          },
          "id": 51,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sum by (database_name) (irate(sqlserver_database_io_read_latency_ms{sql_instance='$instance',database_name!~\"master|model|msdb\",file_type='ROWS',measurement_db_type=\"SQLServer\"}[$__rate_interval]) / on (database_name,logical_filename) irate(sqlserver_database_io_reads{sql_instance='$instance',file_type='ROWS',measurement_db_type=\"SQLServer\"}[$__rate_interval]))",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "__auto",
              "measurement": "Rows read latency (ms)",
              "metric": "",
              "policy": "default",
              "query": "SELECT * FROM \"Rows read latency (ms)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database stats' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database stats"
                }
              ]
            }
          ],
          "title": "DATA | Read Latency (ms)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 42
          },
          "id": 52,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sum by (database_name) (irate(sqlserver_database_io_read_latency_ms{sql_instance='$instance',database_name!~\"master|model|msdb\",file_type='LOG',measurement_db_type=\"SQLServer\"}[$__rate_interval]) / on (database_name,logical_filename) irate(sqlserver_database_io_reads{sql_instance='$instance',file_type='LOG',measurement_db_type=\"SQLServer\"}[$__rate_interval]))",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Log read latency (ms)",
              "policy": "default",
              "query": "SELECT * FROM \"Log read latency (ms)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database stats' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database stats"
                }
              ]
            }
          ],
          "title": "LOG | Read Latency (ms)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 0,
            "y": 49
          },
          "id": 117,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sum by (database_name) (irate(sqlserver_database_io_write_latency_ms{sql_instance='$instance',database_name!~\"master|model|msdb\",file_type='ROWS',measurement_db_type=\"SQLServer\"}[$__rate_interval]) / on (database_name,logical_filename) irate(sqlserver_database_io_writes{sql_instance='$instance',file_type='ROWS',measurement_db_type=\"SQLServer\"}[$__rate_interval]))",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Rows read latency (ms)",
              "metric": "",
              "policy": "default",
              "query": "SELECT * FROM \"Rows read latency (ms)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database stats' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database stats"
                }
              ]
            }
          ],
          "title": "DATA | Write Latency (ms)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 50,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 12,
            "x": 12,
            "y": 49
          },
          "id": 118,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "targets": [
            {
              "alias": "$col",
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sum by (database_name) (irate(sqlserver_database_io_write_latency_ms{sql_instance='$instance',database_name!~\"master|model|msdb\",file_type='LOG',measurement_db_type=\"SQLServer\"}[$__rate_interval]) / on (database_name,logical_filename) irate(sqlserver_database_io_writes{sql_instance='$instance',file_type='LOG',measurement_db_type=\"SQLServer\"}[$__rate_interval]))",
              "groupBy": [],
              "intervalFactor": 1,
              "legendFormat": "{{database_name}}",
              "measurement": "Log read latency (ms)",
              "policy": "default",
              "query": "SELECT * FROM \"Log read latency (ms)\" WHERE \"servername\" =~ /$Instance$/ AND \"type\" = 'Database stats' AND $timeFilter",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "*"
                    ],
                    "type": "field"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "servername",
                  "operator": "=~",
                  "value": "/$Instance$/"
                },
                {
                  "condition": "AND",
                  "key": "type",
                  "operator": "=",
                  "value": "Database stats"
                }
              ]
            }
          ],
          "title": "LOG | Write Latency (ms)",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Database Latency",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 27
      },
      "id": 105,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "bars",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 57
          },
          "id": 131,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "irate(sqlserver_waitstats_wait_time_ms{sql_instance='$instance',measurement_db_type=\"SQLServer\"}[$__range])/rate(sqlserver_waitstats_waiting_tasks_count{sql_instance='$instance',measurement_db_type=\"SQLServer\"}[$__range]) > 0.1",
              "instant": false,
              "legendFormat": "{{wait_type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Wait Time ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 57
          },
          "id": 132,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "irate(sqlserver_waitstats_waiting_tasks_count{sql_instance=~\"^$instance\"}[$__range])",
              "instant": false,
              "legendFormat": "{{wait_type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Wait Tasks",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Waits Statistics",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": {
        "type": "prometheus",
        "uid": "bdnnnukprkt8gb"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 28
      },
      "id": 114,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Bytes Sent to Replica/sec | _Total | Availability Replica.mean"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#1F78C1",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 46
          },
          "id": 88,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Bytes Sent to Replica/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "{{counter}}",
              "measurement": "Bytes Sent to Replica/sec | _Total | Availability Replica",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                },
                {
                  "condition": "AND",
                  "key": "servername",
                  "operator": "=~",
                  "value": "/^$Instance$/"
                }
              ]
            }
          ],
          "title": "OUT | Bytes sent to Replica/sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 46
          },
          "id": 87,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Bytes Received from Replica/sec\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "{{counter}}",
              "measurement": "Bytes Received from Replica/sec | _Total | Availability Replica",
              "policy": "default",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                },
                {
                  "condition": "AND",
                  "key": "servername",
                  "operator": "=~",
                  "value": "/^$Instance$/"
                }
              ]
            }
          ],
          "title": "IN | Bytes received from Replica/sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Transaction Delay | _Total | Database Replica.mean"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#BF1B00",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 54
          },
          "id": 96,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "sqlserver_performance{counter=\"Transaction Delay\",exported_instance=\"Total\",sql_instance=~\"^$instance\"}",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "{{counter}} {{exported_instance}}",
              "measurement": "Transaction Delay | _Total | Database Replica",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                },
                {
                  "condition": "AND",
                  "key": "servername",
                  "operator": "=~",
                  "value": "/^$Instance$/"
                }
              ]
            }
          ],
          "title": "Transaction Delay",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green"
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Mirrored Write Transactions/sec | _Total | Database Replica.mean"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "#5195CE",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 54
          },
          "id": 97,
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "dsType": "influxdb",
              "editorMode": "code",
              "expr": "irate(sqlserver_performance{counter=\"Mirrored Write Transactions/sec\",sql_instance=~\"^$instance\"}[$__range])",
              "groupBy": [
                {
                  "params": [
                    "$interval"
                  ],
                  "type": "time"
                },
                {
                  "params": [
                    "null"
                  ],
                  "type": "fill"
                }
              ],
              "intervalFactor": 1,
              "legendFormat": "{{counter}} {{exported_instance}}",
              "measurement": "Mirrored Write Transactions/sec | _Total | Database Replica",
              "metric": "",
              "policy": "default",
              "range": true,
              "refId": "A",
              "resultFormat": "time_series",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "field"
                  },
                  {
                    "params": [],
                    "type": "mean"
                  }
                ]
              ],
              "step": 5,
              "tags": [
                {
                  "key": "type",
                  "operator": "=",
                  "value": "Performance counters"
                },
                {
                  "condition": "AND",
                  "key": "servername",
                  "operator": "=~",
                  "value": "/^$Instance$/"
                }
              ]
            }
          ],
          "title": "Mirrored Write Transactions/sec",
          "type": "timeseries"
        }
      ],
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "bdnnnukprkt8gb"
          },
          "refId": "A"
        }
      ],
      "title": "Availability Replica",
      "type": "row"
    }
  ],
  "refresh": "",
  "schemaVersion": 39,
  "tags": [
    "prometheus",
    "SQL Server"
  ],
  "templating": {
    "list": [
      {
        "current": {
          "selected": false,
          "text": "prometheus",
          "value": "edndbmyghbhtsb"
        },
        "hide": 0,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allFormat": "glob",
        "current": {},
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(sqlserver_server_properties_uptime,sql_instance)",
        "hide": 0,
        "includeAll": false,
        "label": "Instance",
        "multi": false,
        "multiFormat": "glob",
        "name": "instance",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(sqlserver_server_properties_uptime,sql_instance)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timeRangeUpdatedDuringEditOrView": false,
  "timepicker": {
    "now": true,
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "browser",
  "title": "SQL Server Monitoring",
  "uid": "CE9gQeYZz",
  "version": 115,
  "weekStart": ""
}